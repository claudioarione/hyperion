<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/images/logo/hyperion.ico" rel="icon"/>

    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/main_chart_style.css">
    <link rel="stylesheet" href="styles/appliances_style.css">
    <link rel="stylesheet" href="styles/comparison_styles.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>Hyperion</title>

</head>
<body>


<!--===== LIBRARIES  =====-->
<script defer src="https://code.highcharts.com/highcharts.js"></script>
<script defer src="https://code.highcharts.com/modules/exporting.js"></script>
<script defer src="https://code.highcharts.com/modules/export-data.js"></script>
<script defer src="https://code.highcharts.com/highcharts-more.js"></script>
<script defer src="https://code.highcharts.com/modules/xrange.js"></script>
<script defer src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script crossorigin="anonymous" defer
        integrity="sha512-EbdJQSugx0nVWrtyK3JdQQ/03mS3Q1UiAhRtErbwl1YL/+e2hZdlIcSURxxh7WXHTzn83sjlh2rysACoJGfb6g=="
        referrerpolicy="no-referrer"
        src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js"></script>

<!--===== MAIN JS  =====-->
<script defer src="utils/constants.js"></script>
<script defer src="scripts/utilities.js"></script>
<script defer src="scripts/parsing.js"></script>
<script defer src="scripts/chart.js"></script>
<script defer src="scripts/comparison.js"></script>
<script defer src="scripts/main.js"></script>
<script defer src="scripts/appliances.js"></script>
<script defer src="scripts/rates.js"></script>
<script defer src="scripts/details.js"></script>

<!--HEADER-->
<header class="l-header">
    <nav class="nav bd-grid">
        <div class="logo__container">
            <a href="#home" class="nav__logo">
                <img alt="Logo" src="images/logo/hyperion_logo.png" width="80px">
            </a>
            <span class="title">Hyperion</span>
        </div>

        <div class="nav__menu" id="nav-menu">
            <ul class="nav__list">
                <li class="nav__item"><a href="#home" class="nav__link active">Home</a></li>
                <li class="nav__item"><a class="nav__link" href="#indexes">Indici</a></li>
                <li class="nav__item"><a class="nav__link" href="#details">Dettaglio</a></li>
                <li class="nav__item"><a class="nav__link" href="#rates">Tariffe</a></li>
            </ul>
        </div>
    </nav>
</header>

<div id="loading">
    <h1 style>Loading...</h1>
</div>

<main class="l-main" id="main" style="display: none">
    <!--HOME-->
    <section class="home bd-grid" id="home">

        <div class="info_and_dp_home">
            <div style="display: grid">
                <label for="datePicker"></label><input class="date__picker" id="datePicker" type="date">
            </div>
        </div>

        <div class="btn-chart-container">

            <div class="date-picker-container">
                <div class="buttons">
                    <button id="hourBtn">
                        Ora
                    </button>
                    <button id="dayBtn">
                        Giorno
                    </button>
                    <button id="weekBtn" class="active">
                        Settimana
                    </button>
                    <button id="monthBtn">
                        Mese
                    </button>
                    <button id="yearBtn">
                        Anno
                    </button>
                </div>

                <label for="timePicker"></label>
                <select name="tp" id="timePicker" class="time__picker" onkeydown="return false;">
                    <option value="1">00:00-01:00</option>
                    <option value="2">01:00-02:00</option>
                    <option value="3">02:00-03:00</option>
                    <option value="4">03:00-04:00</option>
                    <option value="5">04:00-05:00</option>
                    <option value="6">05:00-06:00</option>
                    <option value="7">06:00-07:00</option>
                    <option value="8">07:00-08:00</option>
                    <option value="9">08:00-09:00</option>
                    <option value="10">09:00-10:00</option>
                    <option value="11">10:00-11:00</option>
                    <option value="12">11:00-12:00</option>
                    <option value="13">12:00-13:00</option>
                    <option value="14">13:00-14:00</option>
                    <option value="15">14:00-15:00</option>
                    <option value="16">15:00-16:00</option>
                    <option value="17">16:00-17:00</option>
                    <option value="18">17:00-18:00</option>
                    <option value="19">18:00-19:00</option>
                    <option value="20">19:00-20:00</option>
                    <option value="21">20:00-21:00</option>
                    <option value="22">21:00-22:00</option>
                    <option value="23">22:00-23:00</option>
                    <option value="24">23:00-24:00</option>
                </select>

            </div>

            <div class="main-chart-container" id="chartContainer">
            </div>

        </div>

    </section>


    <!--===== INDICI E CONFRONTI =====-->
    <section class="section " id="indexes">
        <h2 class="section-title">Indici e confronti</h2>

        <div class="index_container bd-grid">
            <div id="project_container">
                <div class="index-container">
                    <div class='battery'>
                        <div class="battery-charge" id="firstIndexBattery"></div>
                    </div>
                    <div class="index__value" id="firstIndexValue">100</div>
                    <span id="firstIndex" class="index__text">First index</span>
                </div>
                <div class="index-container" style="margin-top: 20px;">
                    <div class='battery'>
                        <div class="battery-charge" id="secondIndexBattery"></div>
                    </div>
                    <div class="index__value" id="secondIndexValue">200</div>
                    <span id="secondIndex" class="index__text">Second index</span>
                </div>
                <div class="index-container" style="margin-top: 20px">
                    <div class='battery'>
                        <div class="battery-charge" id="thirdIndexBattery"></div>
                    </div>
                    <div class="index__value" id="thirdIndexValue">300</div>
                    <span id="thirdIndex" class="index__text">Third index</span>
                </div>
                <div class="index-container" style="margin-top: 20px">
                    <div class='battery'>
                        <div class="battery-charge" id="fourthIndexBattery"></div>
                    </div>
                    <div class="index__value" id="fourthIndexValue">400</div>
                    <span id="fourthIndex" class="index__text">Fourth index</span>
                </div>
                <div style="margin-top: 20px">
                    <ul class="comparison_list" id="worstDay"></ul>
                </div>
            </div>
        </div>
    </section>

    <!--===== ELETTRODOMESTICI =====-->
    <section class="section" id="details">
        <h2 class="section-title">Dettaglio dei consumi</h2>
        <div style="display: flex">
            <div class="wrapper" style="width: 35%">
                <header>Elettrodomestici</header>
                <div class="inputField">
                    <div class="input__appliance__container">
                        <label for="applianceName"></label><input id="applianceName"
                                                                  placeholder="Nome dell'elettrodomestico" type="text">
                        <div class="details__appliance__container">
                            <label for="applianceWatt"></label><input class="input__number__watt" id="applianceWatt"
                                                                      max="20000" min="0"
                                                                      oninput="validity.valid||(value='');"
                                                                      placeholder="Consumo" step="0.01" type="number">
                            <span style="margin: 0.4rem 0.5rem 0 0.25rem;">Watt</span>
                            <label for="applianceCategoryName"></label>
                            <select class="dropdown_list" id="applianceCategoryName">
                                <option disabled selected value="">Categoria...</option>
                                <option value="general">Generale</option>
                                <option value="iron">Ferro da stiro</option>
                                <option value="oven">Forno</option>
                                <option value="television">Televisione</option>
                                <option value="dishwasher">Lavastoviglie</option>
                                <option value="washing_machine">Lavatrice</option>
                                <option value="vacuum_cleaner">Aspirapolvere</option>
                                <option value="hair_dryer">Asciugacapelli</option>
                            </select>
                            <img alt="" id="applianceCategoryImg" src="images/appliance_icons/general.png" width="32px">
                        </div>
                    </div>
                    <button id="addApplianceBtn"><i class="fa fa-plus"></i></button>
                </div>
                <ul class="itemsList" id="appliancesList">
                    <!-- data comes from local storage -->
                </ul>
                <div class="footer">
                    <span>Hai <span class="numAppliances"></span> elettrodomestici</span>
                </div>
            </div>

            <div class="wrapper" style="width: 65%">
                <h2 id="detailsTitle">Fasce di utilizzo del 02/04</h2>
                <div class="inputField">
                    <div style="display: grid; width: 100%">
                        <div style="display: flex;">
                            <span style="margin-right: 0.2rem"> Elettrodomestico</span>
                            <label for="detailsDropdownList"></label>
                            <select class="dropdown_list" id="detailsDropdownList"
                                    style="margin-bottom: 0.5rem; width: 70%">
                                <option disabled selected value="">Scegli...</option>
                            </select>
                            <img id="detailsPreviewImg" src="images/appliance_icons/general.png"
                                 style="width: 32px; height: 34px">
                        </div>
                        <div style="display: flex; margin-top: 1rem">
                            <span style="margin-right: 0.25rem">Orario di inizio</span>
                            <input id="detailsStartingTime" step="300" style="margin-right: 0.25rem" type="time">
                            <span style="margin-right: 0.25rem">Orario di fine</span>
                            <input id="detailsEndingTime" step="300" style="margin-right: 0.25rem" type="time">
                        </div>
                    </div>
                    <button id="addDetailButton"><i class="fa fa-plus"></i></button>
                </div>
                <ul class="itemsList" id="detailsList">

                </ul>
            </div>
        </div>
        <div class="details_chart_container" id="detailsChartContainer" style="margin-top: 5rem"></div>
    </section>

    <!--===== TARIFFE =====-->
    <section class="section" id="rates">
        <h2 class="section-title">Confronto tra tariffe</h2>
        <div class="ratesWrapper">
            <header>Tariffe</header>
            <div id="dayBoxId"></div>
            <div id="monthBoxId"></div>
            <div id="yearBoxId"></div>
            <div class="dayCostContainer">
                <div class="cost" id="dayCostId">
                    <p>Giorno:</p>
                    <span>25</span>
                </div>
                <div class="cost" id="monthCostId">
                    <p>Mese:</p>
                    <span>maggio</span>
                </div>
                <div class="cost" id="yearCostId">
                    <p>Anno:</p>
                    <span>2022</span>
                </div>
            </div>
            <ul class="itemsList" id="ratesList">
                <!-- data comes from local storage -->
            </ul>
            <div class="addButton" id="openNewRateForm">Aggiungi tariffa</div>

            <!-- Form to add new rates (hidden by default)-->
            <div class="modalFormContainer" id="newRateFormId">
                <div class="modalForm">
                    <div class="closeFormButton" id="closeNewRateForm">X</div>
                    <h1>Aggiungi una nuova tariffa</h1>
                    <p style="margin-bottom: 2rem">
                        Completare i seguenti campi per aggiungere una nuova tariffa. <br>
                        Fare click sulla 'X' a destra per annullare l'inserimento della nuova tariffa e svuotare tutti i
                        campi<br>
                        Fare click fuori dalla form per nasconderla senza svuotare i campi
                    </p>
                    <label for="newRateTitle">Nome della tariffa</label>
                    <input id="newRateTitle" placeholder="es: Tariffa 1" required type="text">
                    <h2>Fasce di prezzi</h2>
                    <table class="rateTable" id="prices"></table>
                    <h3 style="margin: 1.5rem 0 0 0; top: 1rem; position: relative;">Aggiungi una fascia di prezzo</h3>
                    <div id="newPriceId" style="display: inline-block;">
                        <div class="priceContainer">
                            <label for="newRatePrice">Prezzo</label>
                            <input class="inputPrice" id="newRatePrice" placeholder="es: 0.26679" required step="any"
                                   type="number">
                            <p>€/KWh</p>
                        </div>
                        <div class="checkboxContainer">
                            <label style="margin-right: 1rem">Giorni</label>
                            <input checked id="L" type="checkbox"><label for="L">L</label>
                            <input checked id="Mar" type="checkbox"><label for="Mar">M</label>
                            <input checked id="Mer" type="checkbox"><label for="Mer">M</label>
                            <input checked id="G" type="checkbox"><label for="G">G</label>
                            <input checked id="V" type="checkbox"><label for="V">V</label>
                            <input id="S" type="checkbox"> <label for="S">S</label>
                            <input id="D" type="checkbox"><label for="D">D</label>
                        </div>
                        <div class="hourContainer" style="display: flex; float: left; margin: 2rem auto">
                            <label for="start" style="float: left">Inizio</label>
                            <input id="start" max="23" min="0" step="1" style="float: left" type="number" value="0">
                            <p style="float: left">:00</p>
                            <label for="end" style="float: left">Fine</label>
                            <input id="end" max="24" min="1" step="1" style="float: left" type="number" value="24">
                            <p style="float: left">:00</p>
                        </div>
                        <div id="addPriceToRate" style="position: relative; left: 5rem;">+</div>
                    </div>
                    <div class="addRateButton" id="addRateButtonId">Conferma</div>
                </div>
            </div>
        </div>
    </section>

</main>
</body>
</html>
